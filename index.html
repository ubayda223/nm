<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TurkiyaMode - Ваш стильный магазин</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="theme-color" content="#3B82F6">
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
          // Для GitHub Pages путь должен быть относительным:
          navigator.serviceWorker.register('sw.js');
        });
      }
    </script>
</head>
<body class="bg-gray-100 transition-colors duration-200" data-theme="light">
    <!-- Header -->
    <header class="bg-white shadow-md">
        <nav class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <h1 class="text-2xl font-bold text-blue-600">TurkiyaMode</h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="themeToggle" class="p-2 rounded-full hover:bg-gray-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path class="sun" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>
                    </svg>
                </button>
                <div class="relative">
                    <input type="text" placeholder="Поиск..." class="w-64 px-4 py-2 rounded-full border focus:outline-none focus:border-blue-500">
                </div>                <a href="#/" class="hover:text-blue-600 home-link">Главная</a>
                <a href="#/profile" class="hover:text-blue-600">Профиль</a>
                <a href="#/cart" class="hover:text-blue-600">Корзина</a>
                <a href="#/admin" class="hover:text-green-600">Админ</a>
                <a href="#/settings" class="hover:text-blue-600 settings-link">Настройки</a>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Categories -->
        <section class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Категории</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <a href="#/category/clothing" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Одежда</h3>
                    </div>
                </a>
                <a href="#/category/electronics" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Техника</h3>
                    </div>
                </a>
                <a href="#/category/kids" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Детям</h3>
                    </div>
                </a>
                <a href="#/category/home" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Дом</h3>
                    </div>
                </a>
                <a href="#/category/beauty" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Красота</h3>
                    </div>
                </a>
                <a href="#/category/sport" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Спорт</h3>
                    </div>
                </a>
                <a href="#/category/auto" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Авто</h3>
                    </div>
                </a>
                <a href="#/category/toys" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Игрушки</h3>
                    </div>
                </a>
                <a href="#/category/stationery" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Канцтовары</h3>
                    </div>
                </a>
                <a href="#/category/health" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Здоровье</h3>
                    </div>
                </a>
                <a href="#/category/jewelry" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Украшения</h3>
                    </div>
                </a>
                <a href="#/category/bags" class="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow">
                    <div class="text-center">
                        <h3 class="font-medium">Сумки</h3>
                    </div>
                </a>
            </div>
        </section>

        <!-- Products Grid -->
        <section id="products" class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">Популярные товары</h2>

            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Products will be dynamically loaded here -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-white shadow-md mt-8">
        <div class="container mx-auto px-4 py-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">Контакты</h3>
                    <p>@nurik1418, +905061528830</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">О нас</h3>
                    <p>TurkiyaMode - ваш надежный магазин турецкой одежды и техники</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">Мы в соцсетях</h3>
                    <div class="flex space-x-4">
                        <span>@nurik1418, +905061528830</span>
                    </div>
                </div>
            </div>
        </div>
    </footer>    <!-- Firebase Scripts -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-analytics.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, updateProfile } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";
        import { getStorage } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-storage.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA2EpLzJrcsTt7kK8sF_yzs7XJtl0R7Ybg",
            authDomain: "mymessenger-d6514.firebaseapp.com",
            projectId: "mymessenger-d6514",
            storageBucket: "mymessenger-d6514.appspot.com",
            messagingSenderId: "677038576951",
            appId: "1:677038576951:web:4e23891c440def4260b6b2",
            measurementId: "G-YZ986P5D8K"
        };

        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const storage = getStorage(app);
        // Patch for compatibility: add .collection and .doc methods for legacy code
        db.collection = function (col) {
            return {
                orderBy: () => ({
                    get: async () => {
                        const q = await import('https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js');
                        const colRef = q.collection(db, col);
                        const snap = await q.getDocs(colRef);
                        return {
                            empty: snap.empty,
                            forEach: snap.forEach.bind(snap),
                        };
                    }
                }),
                where: () => ({
                    get: async () => {
                        const q = await import('https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js');
                        const colRef = q.collection(db, col);
                        // This is a stub, add logic if needed
                        const snap = await q.getDocs(colRef);
                        return {
                            forEach: snap.forEach.bind(snap),
                        };
                    }
                }),
                add: async (data) => {
                    const q = await import('https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js');
                    const colRef = q.collection(db, col);
                    return q.addDoc(colRef, data);
                },
                doc: (id) => {
                    return {
                        get: async () => {
                            const q = await import('https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js');
                            const docRef = q.doc(db, col, id);
                            const docSnap = await q.getDoc(docRef);
                            return {
                                exists: docSnap.exists,
                                id: docSnap.id,
                                data: () => docSnap.data(),
                            };
                        },
                        delete: async () => {
                            const q = await import('https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js');
                            const docRef = q.doc(db, col, id);
                            return q.deleteDoc(docRef);
                        }
                    };
                }
            };
        };
        // Export Firebase functions globally
        window.app = { 
            auth,
            db, 
            storage,
            createUser: (email, password) => createUserWithEmailAndPassword(auth, email, password),
            signIn: (email, password) => signInWithEmailAndPassword(auth, email, password),
            signOut: () => signOut(auth),
            updateProfile: (user, data) => updateProfile(user, data)
        };
    </script>
    <script type="module">
        import './js/products.js';
        import './js/auth.js';
        import './js/app.js';
        import './js/theme.js';
    </script>
    <!--
Новые функции:
- Адаптивная панель администратора с анимацией и FAB для мобильных
- Несколько админов могут добавлять товары (allowedAdmins)
- Анимация карточек товаров и кнопок
- Быстрое добавление товара с мобильного (FAB)
- Современный дизайн и плавные переходы
- Возможность добавлять товары через форму (web/mobile)
- Все функции работают и на мобильных устройствах
-->
</body>
</html>
